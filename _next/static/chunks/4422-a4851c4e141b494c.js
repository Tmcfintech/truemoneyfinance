(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4422],{70151:function(e,n,t){var r=t(278),o=t(73480);e.exports=function(e){return o(r(e))}},25127:function(e,n,t){var r=t(73480),o=t(52628);e.exports=function(e){return r(o(e))}},73480:function(e,n,t){var r=t(69877);e.exports=function(e,n){var t=-1,o=e.length,i=o-1;for(n=void 0===n?o:n;++t<n;){var c=r(t,i),s=e[c];e[c]=e[t],e[t]=s}return e.length=n,e}},69983:function(e,n,t){var r=t(70151),o=t(25127),i=t(1469);e.exports=function(e){return(i(e)?r:o)(e)}},98044:function(e,n,t){"use strict";var r=t(85893),o=(t(67294),t(14141)),i=t(78491);function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}n.Z=function(e){var n=(0,o.Fg)(),t=n.isDark?"#3C3742":"#e9eaeb",s=n.isDark?"#666171":"#bdc2c4";return(0,r.jsxs)(i.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){c(e,n,t[n])}))}return e}({viewBox:"0 0 32 32"},e,{children:[(0,r.jsx)("path",{d:"M32 16c0 8.837-7.163 16-16 16S0 24.837 0 16 7.163 0 16 0s16 7.163 16 16z",fill:t}),(0,r.jsx)("mask",{id:"A","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"32",height:"32",children:(0,r.jsx)("path",{d:"M32 16c0 8.837-7.163 16-16 16S0 24.837 0 16 7.163 0 16 0s16 7.163 16 16z",fill:"#c4c4c4"})}),(0,r.jsxs)("g",{mask:"url(#A)",children:[(0,r.jsx)("path",{d:"M25.128 16.436c0 3.115-4.133 5.641-9.231 5.641s-9.231-2.526-9.231-5.641V15h18.461v1.436zm2.205 13.806c0-3.815-5.074-6.908-11.333-6.908S4.667 26.426 4.667 30.242V32h22.667v-1.759z",fill:s}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M10.234 5.601C9.942 4.264 10.96 3 12.328 3c1.184 0 2.143.959 2.143 2.143v3.873l1.427-.067c.589 0 1.166.034 1.724.098V5.143c0-1.184.959-2.143 2.143-2.143 1.368 0 2.386 1.264 2.093 2.601l-.931 4.258c2.529 1.006 4.201 2.749 4.201 4.731 0 3.115-4.133 5.641-9.231 5.641s-9.231-2.526-9.231-5.641c0-2.053 1.794-3.849 4.476-4.836l-.908-4.153z",fill:s}),(0,r.jsx)("ellipse",{cx:"12.308",cy:"14.846",rx:"1.026",ry:"1.538",fill:t}),(0,r.jsx)("ellipse",{cx:"19.385",cy:"14.846",rx:"1.026",ry:"1.538",fill:t})]})]}))}},63744:function(e,n,t){"use strict";var r=t(85893),o=t(98044),i=t(14141);function c(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function s(){var e=c(["\n  border: 1px solid ",";\n  border-radius: 50%;\n  bottom: 0px;\n  position: absolute;\n  right: 0px;\n  min-width: 20px;\n  min-height: 20px;\n  width: 37.5%;\n  height: 37.5%;\n  z-index: 5;\n\n  "," {\n    border-width: 2px;\n  }\n"]);return s=function(){return e},e}function a(){var e=c(["\n  background: url('","');\n  background-repeat: no-repeat;\n  background-size: cover;\n  border-radius: 50%;\n  position: relative;\n  width: 100%;\n  height: 100%;\n\n  & > img {\n    border-radius: 50%;\n  }\n"]);return a=function(){return e},e}function u(){var e=c(["\n  width: 100%;\n  height: 100%;\n"]);return u=function(){return e},e}var l=i.ZP.img.withConfig({componentId:"sc-a986688f-0"})(s(),(function(e){return e.theme.card.background}),(function(e){return e.theme.mediaQueries.sm})),d=i.ZP.div.withConfig({componentId:"sc-a986688f-1"})(a(),(function(e){return e.bg})),f=(0,i.ZP)(o.Z).withConfig({componentId:"sc-a986688f-2"})(u());n.Z=function(e){var n,t=e.profile;return(0,r.jsxs)(d,{bg:null===(n=t.nft)||void 0===n?void 0:n.image.thumbnail,children:[!t.isActive&&(0,r.jsx)(f,{}),t.team&&(0,r.jsx)(l,{src:"/images/teams/".concat(t.team.images.alt),alt:t.team.name})]})}},96535:function(e,n,t){"use strict";t.d(n,{Z:function(){return ue}});var r,o=t(85893),i=t(17796),c=t(7867),s=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){a(e,n,t[n])}))}return e}!function(e){e.START="start",e.CHANGE="change",e.REMOVE="remove",e.APPROVE="approve"}(r||(r={}));var l=function(e,n){switch(n.type){case"set_view":return u({},e,{currentView:n.view,previousView:e.currentView});case"go_previous":return u({},e,{currentView:e.previousView,previousView:e.currentView});default:return e}},d=function(){var e=(0,s.useReducer)(l,{currentView:r.START,previousView:null}),n=e[0],t=e[1];return u({},n,{goToStart:function(){return t({type:"set_view",view:r.START})},goToChange:function(){return t({type:"set_view",view:r.CHANGE})},goToRemove:function(){return t({type:"set_view",view:r.REMOVE})},goToApprove:function(){return t({type:"set_view",view:r.APPROVE})},goPrevious:function(){return t({type:"go_previous"})}})},f=t(34051),p=t.n(f),v=t(14141),h=t(77044),m=t(31289),x=t(19532),b=t(67602),g=t(16695),w=t(75233),y=t(38373),j=t(36701),C=t(21046),k=t(28527),P=t(92335),Z=t(85426);function A(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function T(e,n,t,r,o,i,c){try{var s=e[i](c),a=s.value}catch(u){return void t(u)}s.done?n(a):Promise.resolve(a).then(r,o)}function S(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],c=!0,s=!1;try{for(t=t.call(e);!(c=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);c=!0);}catch(a){s=!0,o=a}finally{try{c||null==t.return||t.return()}finally{if(s)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return A(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return A(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O=function(){var e=(0,c.$G)().t,n=(0,s.useState)(!0),t=n[0],r=n[1],o=(0,s.useState)({numberCakeToReactivate:C._Y,numberCakeToRegister:C._Y,numberCakeToUpdate:C._Y}),i=o[0],a=o[1],u=(0,Z.Z)().toastError;return(0,s.useEffect)((function(){var n=function(){var n,t=(n=p().mark((function n(){var t,o,i,c,s,l,d,f;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=["numberCakeToReactivate","numberCakeToRegister","numberCakeToUpdate"].map((function(e){return{address:(0,w.Re)(),name:e}})),n.t0=S,n.next=5,(0,k.v)(P,t);case 5:n.t1=n.sent,o=(0,n.t0)(n.t1,3),i=S(o[0],1),c=i[0],s=S(o[1],1),l=s[0],d=S(o[2],1),f=d[0],a({numberCakeToReactivate:c,numberCakeToRegister:l,numberCakeToUpdate:f}),r(!1),n.next=20;break;case 17:n.prev=17,n.t2=n.catch(0),u(e("Error"),e("Could not retrieve CAKE costs for profile"));case 20:case"end":return n.stop()}}),n,null,[[0,17]])})),function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function c(e){T(i,r,o,c,s,"next",e)}function s(e){T(i,r,o,c,s,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();n()}),[a,u,e]),{costs:i,isLoading:t}},E=t(28829),R=t(62320),I=t(14044),V=t(63744);function D(e,n,t,r,o,i,c){try{var s=e[i](c),a=s.value}catch(u){return void t(u)}s.done?n(a):Promise.resolve(a).then(r,o)}function z(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function G(){var e=z(["\n  border-color: ",";\n  color: ",";\n  margin-bottom: 24px;\n\n  &:hover:not(:disabled):not(.button--disabled):not(:active) {\n    border-color: ",";\n    opacity: 0.8;\n  }\n"]);return G=function(){return e},e}function _(){var e=z(["\n  height: 64px;\n  width: 64px;\n\n  "," {\n    height: 128px;\n    width: 128px;\n  }\n"]);return _=function(){return e},e}var U=(0,v.ZP)(m.Z).attrs({variant:"secondary"}).withConfig({componentId:"sc-dc924c6b-0"})(G(),(function(e){return e.theme.colors.failure}),(function(e){return e.theme.colors.failure}),(function(e){return e.theme.colors.failure})),M=v.ZP.div.withConfig({componentId:"sc-dc924c6b-1"})(_(),(function(e){return e.theme.mediaQueries.sm})),W=function(e){var n=e.goToApprove,t=e.goToChange,r=e.goToRemove,i=e.onDismiss,a=(0,c.$G)().t,u=(0,h.Ge)().account,l=(0,y.kL)().reader,d=(0,I.Un)().profile,f=(0,j.Nn)(),v=f.balance,C=f.fetchStatus,k=O(),P=k.costs,Z=P.numberCakeToUpdate,A=P.numberCakeToReactivate,T=k.isLoading,S=(0,s.useState)(null),z=S[0],G=S[1],_=(null===d||void 0===d?void 0:d.isActive)?Z:A,W=C===E.iF.Fetched&&v.gte(_);return(0,s.useEffect)((function(){var e=function(){var e,n=(e=p().mark((function e(){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.S)(l,u,(0,w.Re)(),_);case 2:n=e.sent,G(n);case 4:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function c(e){D(i,r,o,c,s,"next",e)}function s(e){D(i,r,o,c,s,"throw",e)}c(void 0)}))});return function(){return n.apply(this,arguments)}}();u&&!T&&e()}),[u,_,G,l,T]),d?(0,o.jsxs)(x.Z,{alignItems:"center",justifyContent:"center",flexDirection:"column",children:[(0,o.jsx)(M,{children:(0,o.jsx)(V.Z,{profile:d})}),(0,o.jsx)(x.Z,{alignItems:"center",style:{height:"48px"},justifyContent:"center",children:(0,o.jsx)(b.Z,{as:"p",color:"failure",children:!T&&!W&&a("%minimum% CAKE required to change profile pic",{minimum:(0,g.dp)(_)})})}),d.isActive?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m.Z,{width:"100%",mb:"8px",onClick:!0===z?n:t,disabled:T||!W||null===z,children:a("Change Profile Pic")}),(0,o.jsx)(U,{width:"100%",onClick:r,children:a("Remove Profile Pic")})]}):(0,o.jsx)(m.Z,{width:"100%",mb:"8px",onClick:!0===z?n:t,disabled:T||!W||null===z,children:a("Reactivate Profile")}),(0,o.jsx)(m.Z,{variant:"text",width:"100%",onClick:i,children:a("Close Window")})]}):null},L=t(20506),F=t(14667),H=t(20973),N=t(10687),Y=t(27285);function $(e,n,t,r,o,i,c){try{var s=e[i](c),a=s.value}catch(u){return void t(u)}s.done?n(a):Promise.resolve(a).then(r,o)}var K=function(e){var n=e.onDismiss,t=e.onSuccess,r=(0,s.useState)(!1),i=r[0],a=r[1],u=(0,I.Un)(),l=u.profile,d=u.refresh,f=O().costs.numberCakeToReactivate,v=(0,c.$G)().t,h=(0,y.wr)(),w=(0,H.d)().callWithGasPrice,j=(0,Z.Z)().toastSuccess,C=(0,N.Z)(),k=C.fetchWithCatchTxError,P=C.loading,A=function(){var e,r=(e=p().mark((function e(){var r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k((function(){return w(h,"pauseProfile")}));case 2:(null===(r=e.sent)||void 0===r?void 0:r.status)&&(d(),j(v("Profile Paused!"),(0,o.jsx)(Y.YO,{txHash:r.transactionHash})),t&&t(),null===n||void 0===n||n());case 4:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function c(e){$(i,r,o,c,s,"next",e)}function s(e){$(i,r,o,c,s,"throw",e)}c(void 0)}))});return function(){return r.apply(this,arguments)}}();return l?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(b.Z,{as:"p",color:"failure",mb:"24px",children:v("This will suspend your profile and send your Collectible back to your wallet")}),(0,o.jsx)(b.Z,{as:"p",color:"textSubtle",mb:"24px",children:v("While your profile is suspended, you won't be able to earn points, but your achievements and points will stay associated with your profile")}),(0,o.jsx)(b.Z,{as:"p",color:"textSubtle",mb:"24px",children:v("Cost to reactivate in the future: %cost% CAKE",{cost:(0,g.dp)(f)})}),(0,o.jsx)("label",{htmlFor:"acknowledgement",style:{cursor:"pointer",display:"block",marginBottom:"24px"},children:(0,o.jsxs)(x.Z,{alignItems:"center",children:[(0,o.jsx)(L.Z,{id:"acknowledgement",checked:i,onChange:function(){return a(!i)},scale:"sm"}),(0,o.jsx)(b.Z,{ml:"8px",children:v("I understand")})]})}),(0,o.jsx)(m.Z,{width:"100%",isLoading:P,endIcon:P?(0,o.jsx)(F.Z,{spin:!0,color:"currentColor"}):null,disabled:!i||P,onClick:A,mb:"8px",children:v("Confirm")}),(0,o.jsx)(m.Z,{variant:"text",width:"100%",onClick:n,children:v("Close Window")})]}):null},B=t(87177),Q=t(23526),q=t(48368),J=t(73186),X=t(79027),ee=t(32678),ne=t(61341),te=t(46383),re=t(68626);function oe(e,n,t,r,o,i,c){try{var s=e[i](c),a=s.value}catch(u){return void t(u)}s.done?n(a):Promise.resolve(a).then(r,o)}var ie=function(e){var n=e.onDismiss,t=e.onSuccess,r=(0,s.useState)({tokenId:null,collectionAddress:null}),i=r[0],a=r[1],u=(0,c.$G)().t,l=(0,h.Ge)(),d=l.account,f=l.library,v=(0,I.Un)(),x=v.isLoading,g=v.profile,j=v.refresh,C=(0,re.Z)(d,g,x),k=C.nfts,P=C.isLoading,A=(0,y.wr)(),T=(0,Z.Z)().toastSuccess,S=(0,H.d)().callWithGasPrice,O=(0,s.useMemo)((function(){return k.filter((function(e){return e.location===te.Fb.WALLET}))}),[k]),E=(0,ne.mN)(O).data,R=(0,s.useMemo)((function(){return!!E&&!!E[i.tokenId]}),[E,i.tokenId]),V=(0,q.Z)({onApprove:function(){var e=(0,J.vE)(i.collectionAddress,f.getSigner());return S(e,"approve",[(0,w.Re)(),i.tokenId])},onConfirm:function(){return g.isActive?S(A,"updateProfile",[i.collectionAddress,i.tokenId]):S(A,"reactivateProfile",[i.collectionAddress,i.tokenId])},onSuccess:function(){var e,r=(e=p().mark((function e(r){var i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.receipt,j(),T(u("Profile Updated!"),(0,o.jsx)(Y.YO,{txHash:i.transactionHash})),t&&t(),null===n||void 0===n||n();case 5:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function c(e){oe(i,r,o,c,s,"next",e)}function s(e){oe(i,r,o,c,s,"throw",e)}c(void 0)}))});return function(e){return r.apply(this,arguments)}}()}),D=V.isApproving,z=V.isApproved,G=V.isConfirmed,_=V.isConfirming,U=V.handleApprove,M=V.handleConfirm,W=z||R;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(b.Z,{as:"p",color:"textSubtle",mb:"24px",children:u("Choose a new Collectible to use as your profile pic.")}),P?(0,o.jsx)(B.Z,{width:"100%",height:"80px",mb:"16px"}):O.length>0?(0,o.jsx)(Q.Z,{maxHeight:"300px",overflowY:"scroll",children:O.map((function(e){return(0,o.jsx)(ee.Z,{name:"profilePicture",value:e.tokenId,image:e.image.thumbnail,isChecked:e.tokenId===i.tokenId,onChange:function(){a({tokenId:e.tokenId,collectionAddress:e.collectionAddress})},disabled:D||_||G,children:(0,o.jsx)(b.Z,{bold:!0,children:e.name})},"".concat(e.collectionAddress,"#").concat(e.tokenId))}))}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(b.Z,{as:"p",color:"textSubtle",mb:"16px",children:u("Sorry! You don\u2019t have any eligible Collectibles in your wallet to use!")}),(0,o.jsx)(b.Z,{as:"p",color:"textSubtle",mb:"24px",children:u("Make sure you have a Pancake Collectible in your wallet and try again!")})]}),(0,o.jsx)(X.Z,{isApproveDisabled:G||_||W||null===i.tokenId,isApproving:D,isConfirmDisabled:!W||G||null===i.tokenId,isConfirming:_,onApprove:U,onConfirm:M}),(0,o.jsx)(m.Z,{mt:"8px",variant:"text",width:"100%",onClick:n,disabled:D||_,children:u("Close Window")})]})};function ce(e,n,t,r,o,i,c){try{var s=e[i](c),a=s.value}catch(u){return void t(u)}s.done?n(a):Promise.resolve(a).then(r,o)}var se=function(e){var n=e.goToChange,t=e.onDismiss,r=(0,I.Un)().profile,i=(0,c.$G)().t,s=(0,N.Z)(),a=s.fetchWithCatchTxError,u=s.loading,l=O().costs,d=l.numberCakeToUpdate,f=l.numberCakeToReactivate,v=(0,y.kL)().signer;if(!r)return null;var h=r.isActive?d:f,j=function(){var e,t=(e=p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a((function(){return v.approve((0,w.Re)(),h.mul(2).toString())}));case 2:(null===(t=e.sent)||void 0===t?void 0:t.status)&&n();case 4:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function c(e){ce(i,r,o,c,s,"next",e)}function s(e){ce(i,r,o,c,s,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,o.jsxs)(x.Z,{flexDirection:"column",children:[(0,o.jsxs)(x.Z,{alignItems:"center",justifyContent:"space-between",mb:"24px",children:[(0,o.jsx)(b.Z,{children:r.isActive?i("Cost to update:"):i("Cost to reactivate:")}),(0,o.jsxs)(b.Z,{children:[(0,g.dp)(h)," CAKE"]})]}),(0,o.jsx)(m.Z,{disabled:u,isLoading:u,endIcon:u?(0,o.jsx)(F.Z,{spin:!0,color:"currentColor"}):null,width:"100%",mb:"8px",onClick:j,children:i("Enable")}),(0,o.jsx)(m.Z,{variant:"text",width:"100%",onClick:t,disabled:u,children:i("Close Window")})]})},ae=function(e,n){switch(n){case r.START:return e("Edit Profile");case r.CHANGE:return e("Change Profile Pic");case r.REMOVE:return e("Remove Profile Pic");case r.APPROVE:return e("Enable CAKE");default:return""}},ue=function(e){var n=e.onDismiss,t=e.onSuccess,s=d(),a=s.currentView,u=s.goToChange,l=s.goToRemove,f=s.goToApprove,p=s.goPrevious,v=(0,c.$G)().t,h=a===r.START,m=h?null:function(){return p()};return(0,o.jsx)(i.Z,{title:ae(v,a),onBack:m,onDismiss:n,hideCloseButton:!h,children:(0,o.jsxs)("div",{style:{maxWidth:"400px"},children:[a===r.START&&(0,o.jsx)(W,{goToApprove:f,goToChange:u,goToRemove:l,onDismiss:n}),a===r.REMOVE&&(0,o.jsx)(K,{onDismiss:n,onSuccess:t}),a===r.CHANGE&&(0,o.jsx)(ie,{onDismiss:n,onSuccess:t}),a===r.APPROVE&&(0,o.jsx)(se,{goToChange:u,onDismiss:n})]})})}},70551:function(e,n,t){"use strict";function r(){var e,n,t=(e=["\n  background: url('/images/nfts/no-profile-md.png');\n  background-repeat: no-repeat;\n  background-size: cover;\n  border-radius: 50%;\n  position: relative;\n  width: 96px;\n  height: 96px;\n\n  & > img {\n    border-radius: 50%;\n  }\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return r=function(){return t},t}var o=t(14141).ZP.div.withConfig({componentId:"sc-9689af5c-0"})(r());n.Z=o}}]);
//# sourceMappingURL=4422-a4851c4e141b494c.js.map